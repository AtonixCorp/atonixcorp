# Generated by Django 6.0.2 on 2026-02-21 22:56

import django.core.validators
import django.db.models.deletion
import uuid
from django.conf import settings
from django.db import migrations, models


class Migration(migrations.Migration):

    initial = True

    dependencies = [
        migrations.swappable_dependency(settings.AUTH_USER_MODEL),
    ]

    operations = [
        migrations.CreateModel(
            name='Subnet',
            fields=[
                ('created_at', models.DateTimeField(auto_now_add=True, db_index=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
                ('subnet_id', models.CharField(max_length=64, primary_key=True, serialize=False, unique=True)),
                ('cidr_block', models.CharField(max_length=18)),
                ('availability_zone', models.CharField(max_length=50)),
                ('ipv6_cidr_block', models.CharField(blank=True, max_length=40)),
                ('available_ip_count', models.IntegerField(default=0)),
                ('map_public_ip_on_launch', models.BooleanField(default=False)),
                ('assign_ipv6_on_creation', models.BooleanField(default=False)),
                ('is_default', models.BooleanField(default=False)),
                ('name', models.CharField(blank=True, max_length=255)),
                ('tags', models.JSONField(default=dict)),
            ],
            options={
                'ordering': ['-created_at'],
            },
        ),
        migrations.CreateModel(
            name='Alert',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('created_at', models.DateTimeField(auto_now_add=True, db_index=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
                ('alert_id', models.CharField(max_length=64, unique=True)),
                ('title', models.CharField(max_length=255)),
                ('message', models.TextField()),
                ('severity', models.CharField(choices=[('info', 'Info'), ('warning', 'Warning'), ('critical', 'Critical')], default='info', max_length=20)),
                ('resource_type', models.CharField(blank=True, max_length=100)),
                ('resource_id', models.CharField(blank=True, max_length=64)),
                ('is_read', models.BooleanField(db_index=True, default=False)),
                ('metadata', models.JSONField(default=dict)),
                ('user', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='alerts', to=settings.AUTH_USER_MODEL)),
            ],
            options={
                'ordering': ['-created_at'],
            },
        ),
        migrations.CreateModel(
            name='ApiKey',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('created_at', models.DateTimeField(auto_now_add=True, db_index=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
                ('api_key_id', models.CharField(max_length=64, unique=True)),
                ('name', models.CharField(max_length=255)),
                ('key_hash', models.CharField(max_length=512)),
                ('is_active', models.BooleanField(db_index=True, default=True)),
                ('last_used_at', models.DateTimeField(blank=True, null=True)),
                ('expires_at', models.DateTimeField(blank=True, null=True)),
                ('scopes', models.JSONField(default=list, help_text='List of permission scopes')),
                ('user', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='api_keys', to=settings.AUTH_USER_MODEL)),
            ],
            options={
                'ordering': ['-created_at'],
            },
        ),
        migrations.CreateModel(
            name='AutoScalingGroup',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('created_at', models.DateTimeField(auto_now_add=True, db_index=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
                ('resource_id', models.CharField(db_index=True, editable=False, max_length=64, unique=True)),
                ('name', models.CharField(db_index=True, max_length=255)),
                ('description', models.TextField(blank=True, null=True)),
                ('tags', models.JSONField(default=dict, help_text='Key-value tags for resource')),
                ('metadata', models.JSONField(default=dict, help_text='Additional metadata')),
                ('asg_id', models.CharField(db_index=True, max_length=64, unique=True)),
                ('min_size', models.IntegerField(default=1, validators=[django.core.validators.MinValueValidator(0)])),
                ('max_size', models.IntegerField(default=10, validators=[django.core.validators.MinValueValidator(1)])),
                ('desired_capacity', models.IntegerField(default=2, validators=[django.core.validators.MinValueValidator(0)])),
                ('launch_template_id', models.CharField(max_length=64)),
                ('health_check_type', models.CharField(choices=[('ec2', 'EC2'), ('elb', 'ELB')], default='ec2', max_length=50)),
                ('health_check_grace_period', models.IntegerField(default=300)),
                ('current_instances', models.JSONField(default=list, help_text='List of instance IDs')),
                ('scaling_policies', models.JSONField(default=list)),
                ('owner', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='%(class)s_owned', to=settings.AUTH_USER_MODEL)),
            ],
            options={
                'ordering': ['-created_at'],
            },
        ),
        migrations.CreateModel(
            name='BackupPolicy',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('created_at', models.DateTimeField(auto_now_add=True, db_index=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
                ('policy_id', models.CharField(max_length=64, unique=True)),
                ('name', models.CharField(max_length=255)),
                ('description', models.TextField(blank=True)),
                ('resource_type', models.CharField(choices=[('volume', 'Volume'), ('instance', 'Instance'), ('filesystem', 'File Share'), ('database', 'Database')], max_length=50)),
                ('resource_ids', models.JSONField(default=list)),
                ('schedule_frequency', models.CharField(choices=[('hourly', 'Hourly'), ('daily', 'Daily'), ('weekly', 'Weekly'), ('monthly', 'Monthly')], default='daily', max_length=50)),
                ('schedule_time', models.TimeField(default='02:00')),
                ('retention_days', models.IntegerField(default=30)),
                ('retention_count', models.IntegerField(blank=True, null=True)),
                ('is_enabled', models.BooleanField(default=True)),
                ('last_backup_time', models.DateTimeField(blank=True, null=True)),
                ('next_backup_time', models.DateTimeField(blank=True, null=True)),
                ('tags', models.JSONField(default=dict)),
                ('owner', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, to=settings.AUTH_USER_MODEL)),
            ],
            options={
                'ordering': ['-created_at'],
            },
        ),
        migrations.CreateModel(
            name='Backup',
            fields=[
                ('created_at', models.DateTimeField(auto_now_add=True, db_index=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
                ('backup_id', models.CharField(db_index=True, max_length=64, primary_key=True, serialize=False, unique=True)),
                ('resource_type', models.CharField(max_length=50)),
                ('resource_id', models.CharField(db_index=True, max_length=64)),
                ('size_bytes', models.BigIntegerField()),
                ('status', models.CharField(choices=[('in-progress', 'In Progress'), ('completed', 'Completed'), ('failed', 'Failed')], default='in-progress', max_length=20)),
                ('completed_at', models.DateTimeField(blank=True, null=True)),
                ('error_message', models.TextField(blank=True)),
                ('storage_location', models.CharField(blank=True, max_length=255)),
                ('storage_class', models.CharField(choices=[('hot', 'Hot'), ('warm', 'Warm'), ('cold', 'Cold')], default='hot', max_length=50)),
                ('can_restore', models.BooleanField(default=True)),
                ('restore_window_expires_at', models.DateTimeField(blank=True, null=True)),
                ('policy', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='backups', to='services.backuppolicy')),
            ],
            options={
                'ordering': ['-created_at'],
            },
        ),
        migrations.CreateModel(
            name='CDNDistribution',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('created_at', models.DateTimeField(auto_now_add=True, db_index=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
                ('resource_id', models.CharField(db_index=True, editable=False, max_length=64, unique=True)),
                ('name', models.CharField(db_index=True, max_length=255)),
                ('description', models.TextField(blank=True, null=True)),
                ('tags', models.JSONField(default=dict, help_text='Key-value tags for resource')),
                ('metadata', models.JSONField(default=dict, help_text='Additional metadata')),
                ('distribution_id', models.CharField(db_index=True, max_length=64, unique=True)),
                ('origin_domain', models.CharField(max_length=255)),
                ('origin_path', models.CharField(blank=True, default='/', max_length=255)),
                ('domain_names', models.JSONField(default=list)),
                ('default_root_object', models.CharField(blank=True, max_length=255)),
                ('enabled', models.BooleanField(default=True)),
                ('status', models.CharField(choices=[('pending', 'Pending'), ('creating', 'Creating'), ('running', 'Running'), ('stopping', 'Stopping'), ('stopped', 'Stopped'), ('terminating', 'Terminating'), ('terminated', 'Terminated'), ('error', 'Error'), ('failed', 'Failed')], default='deploying', max_length=20)),
                ('require_https', models.BooleanField(default=True)),
                ('certificate_arn', models.CharField(blank=True, max_length=255)),
                ('ssl_protocol_minimum', models.CharField(choices=[('TLSv1', 'TLSv1'), ('TLSv1.1', 'TLSv1.1'), ('TLSv1.2', 'TLSv1.2'), ('SSLv3', 'SSLv3')], default='TLSv1.2', max_length=50)),
                ('default_ttl_seconds', models.IntegerField(default=86400)),
                ('max_ttl_seconds', models.IntegerField(default=31536000)),
                ('origin_shield_enabled', models.BooleanField(default=False)),
                ('origin_shield_region', models.CharField(blank=True, max_length=50)),
                ('access_logs_enabled', models.BooleanField(default=False)),
                ('access_logs_bucket', models.CharField(blank=True, max_length=255)),
                ('waf_enabled', models.BooleanField(default=False)),
                ('waf_web_acl_id', models.CharField(blank=True, max_length=255)),
                ('price_class', models.CharField(choices=[('100', 'Price Class 100 (Lowest)'), ('200', 'Price Class 200'), ('all', 'Price Class All')], default='all', max_length=50)),
                ('owner', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='%(class)s_owned', to=settings.AUTH_USER_MODEL)),
            ],
            options={
                'ordering': ['-created_at'],
            },
        ),
        migrations.CreateModel(
            name='CustomerGateway',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('created_at', models.DateTimeField(auto_now_add=True, db_index=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
                ('resource_id', models.CharField(db_index=True, editable=False, max_length=64, unique=True)),
                ('name', models.CharField(db_index=True, max_length=255)),
                ('description', models.TextField(blank=True, null=True)),
                ('tags', models.JSONField(default=dict, help_text='Key-value tags for resource')),
                ('metadata', models.JSONField(default=dict, help_text='Additional metadata')),
                ('cgw_id', models.CharField(db_index=True, max_length=64, unique=True)),
                ('gateway_type', models.CharField(choices=[('ipsec.1', 'IPsec.1')], default='ipsec.1', max_length=50)),
                ('public_ip', models.GenericIPAddressField()),
                ('bgp_asn', models.IntegerField(default=65000)),
                ('certificate_arn', models.CharField(blank=True, max_length=255)),
                ('owner', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='%(class)s_owned', to=settings.AUTH_USER_MODEL)),
            ],
            options={
                'ordering': ['-created_at'],
            },
        ),
        migrations.CreateModel(
            name='EncryptionKey',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('created_at', models.DateTimeField(auto_now_add=True, db_index=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
                ('resource_id', models.CharField(db_index=True, editable=False, max_length=64, unique=True)),
                ('name', models.CharField(db_index=True, max_length=255)),
                ('description', models.TextField(blank=True, null=True)),
                ('metadata', models.JSONField(default=dict, help_text='Additional metadata')),
                ('key_id', models.CharField(db_index=True, max_length=64, unique=True)),
                ('key_type', models.CharField(choices=[('symmetric', 'Symmetric (AES-256)'), ('asymmetric-rsa', 'Asymmetric (RSA)'), ('asymmetric-ecc', 'Asymmetric (ECC)')], default='symmetric', max_length=50)),
                ('algorithm', models.CharField(default='AES_256', max_length=50)),
                ('key_state', models.CharField(choices=[('enabled', 'Enabled'), ('disabled', 'Disabled'), ('pending-deletion', 'Pending Deletion'), ('retired', 'Retired')], default='enabled', max_length=20)),
                ('rotation_enabled', models.BooleanField(default=True)),
                ('rotation_period_days', models.IntegerField(default=365)),
                ('last_rotated_at', models.DateTimeField(blank=True, null=True)),
                ('next_rotation_at', models.DateTimeField(blank=True, null=True)),
                ('encryption_operations_count', models.BigIntegerField(default=0)),
                ('scheduled_deletion_date', models.DateTimeField(blank=True, null=True)),
                ('tags', models.JSONField(default=dict)),
                ('owner', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='%(class)s_owned', to=settings.AUTH_USER_MODEL)),
            ],
            options={
                'ordering': ['-created_at'],
            },
        ),
        migrations.CreateModel(
            name='FileShare',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('created_at', models.DateTimeField(auto_now_add=True, db_index=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
                ('resource_id', models.CharField(db_index=True, editable=False, max_length=64, unique=True)),
                ('name', models.CharField(db_index=True, max_length=255)),
                ('description', models.TextField(blank=True, null=True)),
                ('tags', models.JSONField(default=dict, help_text='Key-value tags for resource')),
                ('metadata', models.JSONField(default=dict, help_text='Additional metadata')),
                ('file_share_id', models.CharField(db_index=True, max_length=64, unique=True)),
                ('size_gb', models.IntegerField(validators=[django.core.validators.MinValueValidator(1)])),
                ('protocol', models.CharField(choices=[('nfs', 'NFS v4.1'), ('smb', 'SMB 3.0'), ('both', 'Both NFS and SMB')], default='nfs', max_length=20)),
                ('allowed_clients', models.JSONField(default=list, help_text='List of IP ranges or client IDs')),
                ('performance_tier', models.CharField(choices=[('standard', 'Standard'), ('performance', 'Performance')], default='standard', max_length=50)),
                ('throughput_mbps', models.IntegerField(blank=True, null=True)),
                ('vpc_id', models.CharField(max_length=64)),
                ('subnet_id', models.CharField(max_length=64)),
                ('security_group_id', models.CharField(blank=True, max_length=64)),
                ('mount_point', models.CharField(blank=True, help_text='e.g., nfs.example.com:/share', max_length=255)),
                ('encryption_in_transit', models.BooleanField(default=True)),
                ('encryption_at_rest', models.BooleanField(default=True)),
                ('status', models.CharField(choices=[('pending', 'Pending'), ('creating', 'Creating'), ('running', 'Running'), ('stopping', 'Stopping'), ('stopped', 'Stopped'), ('terminating', 'Terminating'), ('terminated', 'Terminated'), ('error', 'Error'), ('failed', 'Failed')], default='creating', max_length=20)),
                ('used_gb', models.IntegerField(default=0)),
                ('owner', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='%(class)s_owned', to=settings.AUTH_USER_MODEL)),
            ],
            options={
                'ordering': ['-created_at'],
            },
        ),
        migrations.CreateModel(
            name='Flavor',
            fields=[
                ('flavor_id', models.CharField(max_length=64, primary_key=True, serialize=False, unique=True)),
                ('name', models.CharField(db_index=True, max_length=255, unique=True)),
                ('vcpus', models.IntegerField(validators=[django.core.validators.MinValueValidator(1)])),
                ('memory_mb', models.IntegerField(validators=[django.core.validators.MinValueValidator(256)])),
                ('disk_gb', models.IntegerField(validators=[django.core.validators.MinValueValidator(10)])),
                ('network_bandwidth_gbps', models.FloatField(default=1.0)),
                ('gpu_count', models.IntegerField(default=0)),
                ('gpu_type', models.CharField(blank=True, max_length=100)),
                ('hourly_cost_usd', models.DecimalField(decimal_places=4, max_digits=8)),
                ('is_active', models.BooleanField(db_index=True, default=True)),
                ('is_gpu', models.BooleanField(default=False)),
                ('created_at', models.DateTimeField(auto_now_add=True)),
            ],
            options={
                'ordering': ['vcpus', 'memory_mb'],
                'indexes': [models.Index(fields=['is_active', 'is_gpu'], name='services_fl_is_acti_51f605_idx')],
            },
        ),
        migrations.CreateModel(
            name='Image',
            fields=[
                ('image_id', models.CharField(max_length=64, primary_key=True, serialize=False, unique=True)),
                ('name', models.CharField(db_index=True, max_length=255)),
                ('description', models.TextField(blank=True)),
                ('os_type', models.CharField(choices=[('linux', 'Linux'), ('windows', 'Windows'), ('custom', 'Custom')], max_length=50)),
                ('os_name', models.CharField(max_length=100)),
                ('os_version', models.CharField(max_length=50)),
                ('size_gb', models.IntegerField(validators=[django.core.validators.MinValueValidator(1)])),
                ('is_public', models.BooleanField(db_index=True, default=True)),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('is_active', models.BooleanField(db_index=True, default=True)),
                ('owner', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, to=settings.AUTH_USER_MODEL)),
            ],
            options={
                'ordering': ['-created_at'],
            },
        ),
        migrations.CreateModel(
            name='Instance',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('created_at', models.DateTimeField(auto_now_add=True, db_index=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
                ('resource_id', models.CharField(db_index=True, editable=False, max_length=64, unique=True)),
                ('name', models.CharField(db_index=True, max_length=255)),
                ('description', models.TextField(blank=True, null=True)),
                ('tags', models.JSONField(default=dict, help_text='Key-value tags for resource')),
                ('metadata', models.JSONField(default=dict, help_text='Additional metadata')),
                ('instance_id', models.CharField(db_index=True, max_length=64, unique=True)),
                ('status', models.CharField(choices=[('pending', 'Pending'), ('creating', 'Creating'), ('running', 'Running'), ('stopping', 'Stopping'), ('stopped', 'Stopped'), ('terminating', 'Terminating'), ('terminated', 'Terminated'), ('error', 'Error'), ('failed', 'Failed')], db_index=True, default='pending', max_length=20)),
                ('vpc_id', models.CharField(blank=True, max_length=64)),
                ('subnet_id', models.CharField(blank=True, max_length=64)),
                ('private_ip', models.GenericIPAddressField(blank=True, null=True)),
                ('public_ip', models.GenericIPAddressField(blank=True, null=True)),
                ('security_groups', models.JSONField(default=list)),
                ('key_pair', models.CharField(blank=True, max_length=255)),
                ('public_key', models.TextField(blank=True)),
                ('root_volume_size_gb', models.IntegerField(default=100, validators=[django.core.validators.MinValueValidator(10)])),
                ('attached_volumes', models.JSONField(default=list, help_text='List of attached volume IDs')),
                ('user_data', models.TextField(blank=True, help_text='Cloud-init user data')),
                ('enable_monitoring', models.BooleanField(default=True)),
                ('enable_termination_protection', models.BooleanField(default=False)),
                ('launch_time', models.DateTimeField(blank=True, null=True)),
                ('stop_time', models.DateTimeField(blank=True, null=True)),
                ('termination_time', models.DateTimeField(blank=True, null=True)),
                ('flavor', models.ForeignKey(on_delete=django.db.models.deletion.PROTECT, related_name='instances', to='services.flavor')),
                ('image', models.ForeignKey(on_delete=django.db.models.deletion.PROTECT, related_name='instances', to='services.image')),
                ('owner', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='%(class)s_owned', to=settings.AUTH_USER_MODEL)),
            ],
            options={
                'ordering': ['-created_at'],
            },
        ),
        migrations.CreateModel(
            name='InstanceMetric',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('created_at', models.DateTimeField(auto_now_add=True, db_index=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
                ('cpu_usage_percent', models.FloatField(blank=True, null=True)),
                ('memory_usage_percent', models.FloatField(blank=True, null=True)),
                ('disk_usage_percent', models.FloatField(blank=True, null=True)),
                ('network_in_bytes', models.BigIntegerField(blank=True, null=True)),
                ('network_out_bytes', models.BigIntegerField(blank=True, null=True)),
                ('io_read_bytes', models.BigIntegerField(blank=True, null=True)),
                ('io_write_bytes', models.BigIntegerField(blank=True, null=True)),
                ('instance', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='metrics', to='services.instance')),
            ],
            options={
                'ordering': ['-created_at'],
            },
        ),
        migrations.CreateModel(
            name='KubernetesCluster',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('updated_at', models.DateTimeField(auto_now=True)),
                ('resource_id', models.CharField(db_index=True, editable=False, max_length=64, unique=True)),
                ('name', models.CharField(db_index=True, max_length=255)),
                ('description', models.TextField(blank=True, null=True)),
                ('tags', models.JSONField(default=dict, help_text='Key-value tags for resource')),
                ('metadata', models.JSONField(default=dict, help_text='Additional metadata')),
                ('cluster_id', models.CharField(db_index=True, max_length=64, unique=True)),
                ('status', models.CharField(choices=[('pending', 'Pending'), ('creating', 'Creating'), ('running', 'Running'), ('stopping', 'Stopping'), ('stopped', 'Stopped'), ('terminating', 'Terminating'), ('terminated', 'Terminated'), ('error', 'Error'), ('failed', 'Failed')], default='pending', max_length=20)),
                ('kubernetes_version', models.CharField(default='1.29.0', max_length=20)),
                ('node_count', models.IntegerField(default=3, validators=[django.core.validators.MinValueValidator(1)])),
                ('vpc_id', models.CharField(blank=True, max_length=64)),
                ('cluster_ip_range', models.CharField(default='10.0.0.0/16', max_length=18)),
                ('service_ip_range', models.CharField(default='10.1.0.0/16', max_length=18)),
                ('auto_scaling_enabled', models.BooleanField(default=False)),
                ('min_nodes', models.IntegerField(default=1, validators=[django.core.validators.MinValueValidator(1)])),
                ('max_nodes', models.IntegerField(default=10, validators=[django.core.validators.MinValueValidator(2)])),
                ('rbac_enabled', models.BooleanField(default=True)),
                ('network_policy_enabled', models.BooleanField(default=True)),
                ('enabled_addons', models.JSONField(default=list, help_text='metrics-server, ingress-nginx, storage-class, etc.')),
                ('api_endpoint', models.URLField(blank=True)),
                ('kubeconfig', models.TextField(blank=True, help_text='Base64 encoded kubeconfig')),
                ('region', models.CharField(default='us-west-2', max_length=50)),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('node_flavor', models.ForeignKey(null=True, on_delete=django.db.models.deletion.PROTECT, to='services.flavor')),
                ('owner', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='%(class)s_owned', to=settings.AUTH_USER_MODEL)),
            ],
            options={
                'ordering': ['-created_at'],
            },
        ),
        migrations.CreateModel(
            name='KubernetesNode',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('created_at', models.DateTimeField(auto_now_add=True, db_index=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
                ('node_name', models.CharField(db_index=True, max_length=255)),
                ('instance_id', models.CharField(max_length=64)),
                ('status', models.CharField(choices=[('ready', 'Ready'), ('not_ready', 'Not Ready'), ('unknown', 'Unknown')], default='unknown', max_length=20)),
                ('cpu_allocatable', models.IntegerField(null=True)),
                ('memory_allocatable_mb', models.IntegerField(null=True)),
                ('pods_allocatable', models.IntegerField(null=True)),
                ('kubernetes_version', models.CharField(max_length=20)),
                ('cluster', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='nodes', to='services.kubernetescluster')),
            ],
        ),
        migrations.CreateModel(
            name='LoadBalancer',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('created_at', models.DateTimeField(auto_now_add=True, db_index=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
                ('resource_id', models.CharField(db_index=True, editable=False, max_length=64, unique=True)),
                ('name', models.CharField(db_index=True, max_length=255)),
                ('description', models.TextField(blank=True, null=True)),
                ('tags', models.JSONField(default=dict, help_text='Key-value tags for resource')),
                ('metadata', models.JSONField(default=dict, help_text='Additional metadata')),
                ('lb_id', models.CharField(db_index=True, max_length=64, unique=True)),
                ('lb_type', models.CharField(choices=[('application', 'Application Load Balancer (ALB)'), ('network', 'Network Load Balancer (NLB)'), ('classic', 'Classic Load Balancer')], default='application', max_length=50)),
                ('vpc_id', models.CharField(max_length=64)),
                ('subnets', models.JSONField(default=list, help_text='List of subnet IDs')),
                ('security_groups', models.JSONField(default=list)),
                ('scheme', models.CharField(choices=[('internet-facing', 'Internet-Facing'), ('internal', 'Internal')], default='internet-facing', max_length=20)),
                ('ip_address_type', models.CharField(choices=[('ipv4', 'IPv4'), ('dualstack', 'Dual Stack (IPv4 and IPv6)')], default='ipv4', max_length=20)),
                ('dns_name', models.CharField(blank=True, max_length=255, unique=True)),
                ('status', models.CharField(choices=[('pending', 'Pending'), ('creating', 'Creating'), ('running', 'Running'), ('stopping', 'Stopping'), ('stopped', 'Stopped'), ('terminating', 'Terminating'), ('terminated', 'Terminated'), ('error', 'Error'), ('failed', 'Failed')], default='provisioning', max_length=20)),
                ('access_logs_enabled', models.BooleanField(default=False)),
                ('access_logs_bucket', models.CharField(blank=True, max_length=255)),
                ('idle_timeout_seconds', models.IntegerField(default=60, validators=[django.core.validators.MinValueValidator(1), django.core.validators.MaxValueValidator(4000)])),
                ('cross_zone_load_balancing', models.BooleanField(default=True)),
                ('owner', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='%(class)s_owned', to=settings.AUTH_USER_MODEL)),
            ],
            options={
                'ordering': ['-created_at'],
            },
        ),
        migrations.CreateModel(
            name='OnboardingProgress',
            fields=[
                ('id', models.UUIDField(default=uuid.uuid4, editable=False, primary_key=True, serialize=False)),
                ('verify_email', models.BooleanField(default=False)),
                ('add_ssh_key', models.BooleanField(default=False)),
                ('create_vm', models.BooleanField(default=False)),
                ('configure_network', models.BooleanField(default=False)),
                ('attach_volume', models.BooleanField(default=False)),
                ('explore_dashboard', models.BooleanField(default=False)),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
                ('user', models.OneToOneField(on_delete=django.db.models.deletion.CASCADE, related_name='onboarding', to=settings.AUTH_USER_MODEL)),
            ],
            options={
                'verbose_name': 'Onboarding Progress',
                'verbose_name_plural': 'Onboarding Progress',
            },
        ),
        migrations.CreateModel(
            name='ResourceQuota',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('resource_type', models.CharField(max_length=100)),
                ('limit', models.IntegerField()),
                ('used', models.IntegerField(db_index=True, default=0)),
                ('last_updated', models.DateTimeField(auto_now=True)),
                ('user', models.OneToOneField(on_delete=django.db.models.deletion.CASCADE, related_name='resource_quota', to=settings.AUTH_USER_MODEL)),
            ],
        ),
        migrations.CreateModel(
            name='ResourceTag',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('key', models.CharField(db_index=True, max_length=100)),
                ('value', models.CharField(max_length=255)),
                ('resource_type', models.CharField(db_index=True, max_length=100)),
                ('resource_id', models.CharField(db_index=True, max_length=64)),
                ('created_at', models.DateTimeField(auto_now_add=True)),
            ],
            options={
                'indexes': [models.Index(fields=['key', 'value'], name='services_re_key_de0190_idx'), models.Index(fields=['resource_type', 'resource_id'], name='services_re_resourc_045400_idx')],
                'unique_together': {('resource_type', 'resource_id', 'key')},
            },
        ),
        migrations.CreateModel(
            name='RouteTable',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('created_at', models.DateTimeField(auto_now_add=True, db_index=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
                ('resource_id', models.CharField(db_index=True, editable=False, max_length=64, unique=True)),
                ('name', models.CharField(db_index=True, max_length=255)),
                ('description', models.TextField(blank=True, null=True)),
                ('tags', models.JSONField(default=dict, help_text='Key-value tags for resource')),
                ('metadata', models.JSONField(default=dict, help_text='Additional metadata')),
                ('route_table_id', models.CharField(db_index=True, max_length=64, unique=True)),
                ('is_main', models.BooleanField(default=False)),
                ('associated_subnets', models.JSONField(default=list)),
                ('owner', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='%(class)s_owned', to=settings.AUTH_USER_MODEL)),
            ],
            options={
                'ordering': ['-created_at'],
            },
        ),
        migrations.CreateModel(
            name='Route',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('created_at', models.DateTimeField(auto_now_add=True, db_index=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
                ('route_id', models.CharField(max_length=64, unique=True)),
                ('destination_cidr', models.CharField(blank=True, max_length=18)),
                ('destination_ipv6_cidr', models.CharField(blank=True, max_length=40)),
                ('destination_prefix_list_id', models.CharField(blank=True, max_length=64)),
                ('target_type', models.CharField(choices=[('instance', 'Instance'), ('nat-gateway', 'NAT Gateway'), ('internet-gateway', 'Internet Gateway'), ('vpn-gateway', 'VPN Gateway'), ('vpc-peering', 'VPC Peering'), ('network-interface', 'Network Interface'), ('local', 'Local')], max_length=50)),
                ('target_id', models.CharField(blank=True, max_length=64)),
                ('status', models.CharField(choices=[('active', 'Active'), ('blackhole', 'Blackhole')], default='active', max_length=50)),
                ('route_table', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='routes', to='services.routetable')),
            ],
            options={
                'ordering': ['-created_at'],
            },
        ),
        migrations.CreateModel(
            name='ScalingPolicy',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('created_at', models.DateTimeField(auto_now_add=True, db_index=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
                ('policy_id', models.CharField(max_length=64, unique=True)),
                ('policy_type', models.CharField(choices=[('target-tracking', 'Target Tracking'), ('step', 'Step Scaling'), ('simple', 'Simple Scaling'), ('predictive', 'Predictive Scaling')], max_length=50)),
                ('metric_name', models.CharField(max_length=100)),
                ('target_value', models.FloatField(blank=True, null=True)),
                ('adjustment_type', models.CharField(choices=[('ChangeInCapacity', 'Change In Capacity'), ('PercentChangeInCapacity', 'Percent Change In Capacity'), ('ExactCapacity', 'Exact Capacity')], max_length=50)),
                ('adjustment_value', models.IntegerField()),
                ('cooldown_seconds', models.IntegerField(default=300)),
                ('is_enabled', models.BooleanField(default=True)),
                ('asg', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='policies', to='services.autoscalinggroup')),
            ],
            options={
                'ordering': ['-created_at'],
            },
        ),
        migrations.CreateModel(
            name='SecurityGroup',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('created_at', models.DateTimeField(auto_now_add=True, db_index=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
                ('resource_id', models.CharField(db_index=True, editable=False, max_length=64, unique=True)),
                ('name', models.CharField(db_index=True, max_length=255)),
                ('description', models.TextField(blank=True, null=True)),
                ('tags', models.JSONField(default=dict, help_text='Key-value tags for resource')),
                ('metadata', models.JSONField(default=dict, help_text='Additional metadata')),
                ('sg_id', models.CharField(db_index=True, max_length=64, unique=True)),
                ('is_default', models.BooleanField(default=False)),
                ('owner', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='%(class)s_owned', to=settings.AUTH_USER_MODEL)),
            ],
            options={
                'ordering': ['-created_at'],
            },
        ),
        migrations.CreateModel(
            name='SecurityGroupRule',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('created_at', models.DateTimeField(auto_now_add=True, db_index=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
                ('rule_id', models.CharField(max_length=64, unique=True)),
                ('direction', models.CharField(choices=[('ingress', 'Ingress (Inbound)'), ('egress', 'Egress (Outbound)')], max_length=20)),
                ('protocol', models.CharField(choices=[('tcp', 'TCP'), ('udp', 'UDP'), ('icmp', 'ICMP'), ('ipv6-icmp', 'IPv6 ICMP'), ('esp', 'ESP'), ('ah', 'AH'), ('-1', 'All')], default='tcp', max_length=20)),
                ('from_port', models.IntegerField(blank=True, null=True, validators=[django.core.validators.MinValueValidator(0), django.core.validators.MaxValueValidator(65535)])),
                ('to_port', models.IntegerField(blank=True, null=True, validators=[django.core.validators.MinValueValidator(0), django.core.validators.MaxValueValidator(65535)])),
                ('cidr_ipv4', models.CharField(blank=True, max_length=18)),
                ('cidr_ipv6', models.CharField(blank=True, max_length=40)),
                ('referenced_sg_id', models.CharField(blank=True, max_length=64)),
                ('description', models.CharField(blank=True, max_length=255)),
                ('is_enabled', models.BooleanField(default=True)),
                ('security_group', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='rules', to='services.securitygroup')),
            ],
            options={
                'ordering': ['-created_at'],
            },
        ),
        migrations.CreateModel(
            name='ServerlessFunction',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('created_at', models.DateTimeField(auto_now_add=True, db_index=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
                ('resource_id', models.CharField(db_index=True, editable=False, max_length=64, unique=True)),
                ('name', models.CharField(db_index=True, max_length=255)),
                ('description', models.TextField(blank=True, null=True)),
                ('tags', models.JSONField(default=dict, help_text='Key-value tags for resource')),
                ('metadata', models.JSONField(default=dict, help_text='Additional metadata')),
                ('function_id', models.CharField(db_index=True, max_length=64, unique=True)),
                ('runtime', models.CharField(choices=[('python3.11', 'Python 3.11'), ('python3.10', 'Python 3.10'), ('nodejs20', 'Node.js 20'), ('nodejs18', 'Node.js 18'), ('go1.21', 'Go 1.21'), ('java17', 'Java 17'), ('custom', 'Custom Container')], max_length=50)),
                ('handler', models.CharField(help_text='e.g., index.handler', max_length=255)),
                ('code_sha256', models.CharField(blank=True, max_length=512)),
                ('timeout_seconds', models.IntegerField(default=300, validators=[django.core.validators.MinValueValidator(1), django.core.validators.MaxValueValidator(900)])),
                ('memory_mb', models.IntegerField(default=128, validators=[django.core.validators.MinValueValidator(128), django.core.validators.MaxValueValidator(10240)])),
                ('environment_variables', models.JSONField(default=dict)),
                ('vpc_config', models.JSONField(blank=True, default=dict)),
                ('code_uri', models.URLField(help_text='S3 URI or image URI')),
                ('code_repository', models.URLField(blank=True, help_text='GitHub/GitLab repository')),
                ('code_branch', models.CharField(default='main', max_length=100)),
                ('invocation_count', models.BigIntegerField(default=0)),
                ('last_invoked_at', models.DateTimeField(blank=True, null=True)),
                ('status', models.CharField(choices=[('pending', 'Pending'), ('creating', 'Creating'), ('running', 'Running'), ('stopping', 'Stopping'), ('stopped', 'Stopped'), ('terminating', 'Terminating'), ('terminated', 'Terminated'), ('error', 'Error'), ('failed', 'Failed')], default='pending', max_length=20)),
                ('last_update_status', models.CharField(blank=True, max_length=50)),
                ('owner', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='%(class)s_owned', to=settings.AUTH_USER_MODEL)),
            ],
            options={
                'ordering': ['-created_at'],
            },
        ),
        migrations.CreateModel(
            name='ServerlessFunctionTrigger',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('created_at', models.DateTimeField(auto_now_add=True, db_index=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
                ('trigger_id', models.CharField(max_length=64, unique=True)),
                ('trigger_type', models.CharField(choices=[('s3', 'S3 Event'), ('http', 'HTTP/REST'), ('schedule', 'Schedule/Cron'), ('sqs', 'SQS Queue'), ('database', 'Database Event'), ('custom', 'Custom Event')], max_length=50)),
                ('config', models.JSONField(default=dict)),
                ('is_enabled', models.BooleanField(default=True)),
                ('function', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='triggers', to='services.serverlessfunction')),
            ],
            options={
                'ordering': ['-created_at'],
            },
        ),
        migrations.CreateModel(
            name='StorageBucket',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('updated_at', models.DateTimeField(auto_now=True)),
                ('resource_id', models.CharField(db_index=True, editable=False, max_length=64, unique=True)),
                ('name', models.CharField(db_index=True, max_length=255)),
                ('description', models.TextField(blank=True, null=True)),
                ('tags', models.JSONField(default=dict, help_text='Key-value tags for resource')),
                ('metadata', models.JSONField(default=dict, help_text='Additional metadata')),
                ('bucket_id', models.CharField(db_index=True, max_length=64, unique=True)),
                ('bucket_name', models.CharField(db_index=True, max_length=255, unique=True)),
                ('region', models.CharField(default='us-west-2', max_length=50)),
                ('acl', models.CharField(choices=[('private', 'Private'), ('public-read', 'Public Read'), ('public-read-write', 'Public Read/Write'), ('authenticated-read', 'Authenticated Read')], default='private', max_length=50)),
                ('versioning_enabled', models.BooleanField(default=False)),
                ('mfa_delete_enabled', models.BooleanField(default=False)),
                ('encryption_enabled', models.BooleanField(default=True)),
                ('encryption_type', models.CharField(choices=[('sse-s3', 'SSE-S3'), ('sse-kms', 'SSE-KMS'), ('cse-kms', 'CSE-KMS')], default='sse-s3', max_length=50)),
                ('kms_key_id', models.CharField(blank=True, max_length=255)),
                ('logging_enabled', models.BooleanField(default=False)),
                ('log_target_bucket', models.CharField(blank=True, max_length=255)),
                ('log_prefix', models.CharField(blank=True, max_length=255)),
                ('request_metrics_enabled', models.BooleanField(default=False)),
                ('status', models.CharField(choices=[('pending', 'Pending'), ('creating', 'Creating'), ('running', 'Running'), ('stopping', 'Stopping'), ('stopped', 'Stopped'), ('terminating', 'Terminating'), ('terminated', 'Terminated'), ('error', 'Error'), ('failed', 'Failed')], default='running', max_length=20)),
                ('total_objects', models.BigIntegerField(default=0)),
                ('total_size_bytes', models.BigIntegerField(default=0)),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('owner', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='%(class)s_owned', to=settings.AUTH_USER_MODEL)),
            ],
            options={
                'ordering': ['-created_at'],
            },
        ),
        migrations.CreateModel(
            name='S3Object',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('created_at', models.DateTimeField(auto_now_add=True, db_index=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
                ('object_key', models.CharField(db_index=True, max_length=1024)),
                ('size_bytes', models.BigIntegerField()),
                ('content_type', models.CharField(default='application/octet-stream', max_length=150)),
                ('etag', models.CharField(max_length=64, unique=True)),
                ('version_id', models.CharField(blank=True, db_index=True, max_length=128)),
                ('is_latest', models.BooleanField(default=True)),
                ('metadata', models.JSONField(default=dict)),
                ('tags', models.JSONField(default=dict)),
                ('storage_class', models.CharField(choices=[('standard', 'Standard'), ('standard-ia', 'Standard-IA'), ('intelligent-tiering', 'Intelligent-Tiering'), ('glacier', 'Glacier'), ('deep-archive', 'Deep Archive')], default='standard', max_length=50)),
                ('is_public', models.BooleanField(default=False)),
                ('acl', models.CharField(default='private', max_length=50)),
                ('last_modified', models.DateTimeField(auto_now=True)),
                ('bucket', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='s3_objects', to='services.storagebucket')),
            ],
            options={
                'ordering': ['-created_at'],
            },
        ),
        migrations.CreateModel(
            name='StorageMetric',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('created_at', models.DateTimeField(auto_now_add=True, db_index=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
                ('storage_id', models.CharField(db_index=True, max_length=64)),
                ('resource_type', models.CharField(choices=[('bucket', 'Bucket'), ('volume', 'Volume'), ('file-share', 'File Share')], max_length=50)),
                ('used_bytes', models.BigIntegerField(blank=True, null=True)),
                ('allocated_bytes', models.BigIntegerField(blank=True, null=True)),
                ('read_operations_per_second', models.FloatField(blank=True, null=True)),
                ('write_operations_per_second', models.FloatField(blank=True, null=True)),
                ('read_throughput_mbps', models.FloatField(blank=True, null=True)),
                ('write_throughput_mbps', models.FloatField(blank=True, null=True)),
                ('latency_ms', models.FloatField(blank=True, null=True)),
            ],
            options={
                'ordering': ['-created_at'],
                'indexes': [models.Index(fields=['storage_id', 'created_at'], name='services_st_storage_8dc1aa_idx')],
            },
        ),
        migrations.CreateModel(
            name='StorageVolume',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('created_at', models.DateTimeField(auto_now_add=True, db_index=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
                ('resource_id', models.CharField(db_index=True, editable=False, max_length=64, unique=True)),
                ('name', models.CharField(db_index=True, max_length=255)),
                ('description', models.TextField(blank=True, null=True)),
                ('tags', models.JSONField(default=dict, help_text='Key-value tags for resource')),
                ('metadata', models.JSONField(default=dict, help_text='Additional metadata')),
                ('volume_id', models.CharField(db_index=True, max_length=64, unique=True)),
                ('size_gb', models.IntegerField(validators=[django.core.validators.MinValueValidator(1)])),
                ('volume_type', models.CharField(choices=[('gp3', 'General Purpose gp3'), ('gp2', 'General Purpose gp2'), ('io2', 'Provisioned IOPS io2'), ('io1', 'Provisioned IOPS io1'), ('st1', 'Throughput Optimized st1'), ('sc1', 'Cold storage sc1')], default='gp3', max_length=50)),
                ('iops', models.IntegerField(blank=True, null=True, validators=[django.core.validators.MinValueValidator(100)])),
                ('throughput_mbps', models.IntegerField(blank=True, null=True, validators=[django.core.validators.MinValueValidator(125)])),
                ('region', models.CharField(default='us-west-2', max_length=50)),
                ('availability_zone', models.CharField(max_length=50)),
                ('attached_to_instance', models.CharField(blank=True, db_index=True, max_length=64)),
                ('attachment_device', models.CharField(blank=True, max_length=50)),
                ('is_attached', models.BooleanField(db_index=True, default=False)),
                ('attached_at', models.DateTimeField(blank=True, null=True)),
                ('encryption_enabled', models.BooleanField(default=True)),
                ('kms_key_id', models.CharField(blank=True, max_length=255)),
                ('status', models.CharField(choices=[('pending', 'Pending'), ('creating', 'Creating'), ('running', 'Running'), ('stopping', 'Stopping'), ('stopped', 'Stopped'), ('terminating', 'Terminating'), ('terminated', 'Terminated'), ('error', 'Error'), ('failed', 'Failed')], default='creating', max_length=20)),
                ('delete_on_termination', models.BooleanField(default=True)),
                ('owner', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='%(class)s_owned', to=settings.AUTH_USER_MODEL)),
            ],
            options={
                'ordering': ['-created_at'],
            },
        ),
        migrations.CreateModel(
            name='StorageSnapshot',
            fields=[
                ('created_at', models.DateTimeField(auto_now_add=True, db_index=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
                ('snapshot_id', models.CharField(max_length=64, primary_key=True, serialize=False, unique=True)),
                ('size_gb', models.IntegerField()),
                ('status', models.CharField(choices=[('pending', 'Pending'), ('completed', 'Completed'), ('error', 'Error')], default='pending', max_length=20)),
                ('progress_percent', models.IntegerField(default=0, validators=[django.core.validators.MinValueValidator(0), django.core.validators.MaxValueValidator(100)])),
                ('is_public', models.BooleanField(default=False)),
                ('shared_with_accounts', models.JSONField(default=list)),
                ('retention_days', models.IntegerField(blank=True, null=True)),
                ('scheduled_deletion_date', models.DateTimeField(blank=True, null=True)),
                ('description', models.TextField(blank=True)),
                ('tags', models.JSONField(default=dict)),
                ('owner', models.ForeignKey(null=True, on_delete=django.db.models.deletion.SET_NULL, to=settings.AUTH_USER_MODEL)),
                ('volume', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='snapshots', to='services.storagevolume')),
            ],
            options={
                'ordering': ['-created_at'],
            },
        ),
        migrations.CreateModel(
            name='NATGateway',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('created_at', models.DateTimeField(auto_now_add=True, db_index=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
                ('resource_id', models.CharField(db_index=True, editable=False, max_length=64, unique=True)),
                ('name', models.CharField(db_index=True, max_length=255)),
                ('description', models.TextField(blank=True, null=True)),
                ('tags', models.JSONField(default=dict, help_text='Key-value tags for resource')),
                ('metadata', models.JSONField(default=dict, help_text='Additional metadata')),
                ('nat_gw_id', models.CharField(db_index=True, max_length=64, unique=True)),
                ('eip_allocation_id', models.CharField(max_length=64)),
                ('public_ip', models.GenericIPAddressField()),
                ('status', models.CharField(choices=[('pending', 'Pending'), ('creating', 'Creating'), ('running', 'Running'), ('stopping', 'Stopping'), ('stopped', 'Stopped'), ('terminating', 'Terminating'), ('terminated', 'Terminated'), ('error', 'Error'), ('failed', 'Failed')], default='creating', max_length=20)),
                ('network_interface_id', models.CharField(blank=True, max_length=64)),
                ('network_interface_ip', models.GenericIPAddressField(blank=True, null=True)),
                ('owner', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='%(class)s_owned', to=settings.AUTH_USER_MODEL)),
                ('subnet', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='nat_gateways', to='services.subnet')),
            ],
            options={
                'ordering': ['-created_at'],
            },
        ),
        migrations.CreateModel(
            name='TargetGroup',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('created_at', models.DateTimeField(auto_now_add=True, db_index=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
                ('tg_id', models.CharField(max_length=64, unique=True)),
                ('name', models.CharField(max_length=255)),
                ('protocol', models.CharField(choices=[('http', 'HTTP'), ('https', 'HTTPS'), ('tcp', 'TCP'), ('tls', 'TLS'), ('udp', 'UDP'), ('tcp_udp', 'TCP_UDP')], default='http', max_length=20)),
                ('protocol_version', models.CharField(default='HTTP/1.1', max_length=10)),
                ('port', models.IntegerField(validators=[django.core.validators.MinValueValidator(1), django.core.validators.MaxValueValidator(65535)])),
                ('vpc_id', models.CharField(max_length=64)),
                ('health_check_enabled', models.BooleanField(default=True)),
                ('health_check_path', models.CharField(default='/', max_length=255)),
                ('health_check_interval_seconds', models.IntegerField(default=30)),
                ('health_check_timeout_seconds', models.IntegerField(default=5)),
                ('healthy_threshold_count', models.IntegerField(default=2)),
                ('unhealthy_threshold_count', models.IntegerField(default=2)),
                ('stickiness_enabled', models.BooleanField(default=False)),
                ('stickiness_type', models.CharField(choices=[('lb_cookie', 'Load Balancer Cookie'), ('app_cookie', 'Application Cookie')], default='lb_cookie', max_length=50)),
                ('stickiness_duration_seconds', models.IntegerField(default=86400)),
                ('target_type', models.CharField(choices=[('instance', 'Instance'), ('ip', 'IP Address'), ('lambda', 'Lambda Function')], default='instance', max_length=50)),
                ('registered_targets', models.JSONField(default=list)),
                ('health_status', models.JSONField(default=dict)),
                ('load_balancer', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='target_groups', to='services.loadbalancer')),
            ],
            options={
                'ordering': ['-created_at'],
            },
        ),
        migrations.CreateModel(
            name='Listener',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('created_at', models.DateTimeField(auto_now_add=True, db_index=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
                ('listener_id', models.CharField(max_length=64, unique=True)),
                ('protocol', models.CharField(choices=[('http', 'HTTP'), ('https', 'HTTPS'), ('tcp', 'TCP'), ('tls', 'TLS'), ('udp', 'UDP'), ('tcp_udp', 'TCP_UDP')], default='http', max_length=20)),
                ('port', models.IntegerField(validators=[django.core.validators.MinValueValidator(1), django.core.validators.MaxValueValidator(65535)])),
                ('default_action', models.CharField(choices=[('forward', 'Forward'), ('redirect', 'Redirect'), ('fixed-response', 'Fixed Response'), ('authenticate', 'Authenticate')], default='forward', max_length=50)),
                ('certificate_arn', models.CharField(blank=True, max_length=255)),
                ('ssl_policy', models.CharField(blank=True, max_length=255)),
                ('load_balancer', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='listeners', to='services.loadbalancer')),
                ('default_target_group', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, to='services.targetgroup')),
            ],
            options={
                'ordering': ['-created_at'],
            },
        ),
        migrations.CreateModel(
            name='VPC',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('created_at', models.DateTimeField(auto_now_add=True, db_index=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
                ('resource_id', models.CharField(db_index=True, editable=False, max_length=64, unique=True)),
                ('name', models.CharField(db_index=True, max_length=255)),
                ('description', models.TextField(blank=True, null=True)),
                ('metadata', models.JSONField(default=dict, help_text='Additional metadata')),
                ('vpc_id', models.CharField(db_index=True, max_length=64, unique=True)),
                ('cidr_block', models.CharField(help_text='e.g., 10.0.0.0/16', max_length=18)),
                ('ipv6_cidr_block', models.CharField(blank=True, max_length=40)),
                ('enable_dns_hostnames', models.BooleanField(default=True)),
                ('enable_dns_support', models.BooleanField(default=True)),
                ('enable_network_address_translation', models.BooleanField(default=True)),
                ('region', models.CharField(default='us-west-2', max_length=50)),
                ('status', models.CharField(choices=[('pending', 'Pending'), ('creating', 'Creating'), ('running', 'Running'), ('stopping', 'Stopping'), ('stopped', 'Stopped'), ('terminating', 'Terminating'), ('terminated', 'Terminated'), ('error', 'Error'), ('failed', 'Failed')], default='available', max_length=20)),
                ('flow_logs_enabled', models.BooleanField(default=False)),
                ('flow_logs_destination', models.CharField(blank=True, max_length=255)),
                ('tags', models.JSONField(default=dict)),
                ('owner', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='%(class)s_owned', to=settings.AUTH_USER_MODEL)),
            ],
            options={
                'ordering': ['-created_at'],
            },
        ),
        migrations.AddField(
            model_name='subnet',
            name='vpc',
            field=models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='subnets', to='services.vpc'),
        ),
        migrations.AddField(
            model_name='securitygroup',
            name='vpc',
            field=models.ForeignKey(null=True, on_delete=django.db.models.deletion.CASCADE, related_name='security_groups', to='services.vpc'),
        ),
        migrations.AddField(
            model_name='routetable',
            name='vpc',
            field=models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='route_tables', to='services.vpc'),
        ),
        migrations.CreateModel(
            name='InternetGateway',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('created_at', models.DateTimeField(auto_now_add=True, db_index=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
                ('resource_id', models.CharField(db_index=True, editable=False, max_length=64, unique=True)),
                ('name', models.CharField(db_index=True, max_length=255)),
                ('description', models.TextField(blank=True, null=True)),
                ('tags', models.JSONField(default=dict, help_text='Key-value tags for resource')),
                ('metadata', models.JSONField(default=dict, help_text='Additional metadata')),
                ('ig_id', models.CharField(db_index=True, max_length=64, unique=True)),
                ('status', models.CharField(choices=[('pending', 'Pending'), ('creating', 'Creating'), ('running', 'Running'), ('stopping', 'Stopping'), ('stopped', 'Stopped'), ('terminating', 'Terminating'), ('terminated', 'Terminated'), ('error', 'Error'), ('failed', 'Failed')], default='available', max_length=20)),
                ('owner', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='%(class)s_owned', to=settings.AUTH_USER_MODEL)),
                ('vpc', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='internet_gateways', to='services.vpc')),
            ],
            options={
                'ordering': ['-created_at'],
            },
        ),
        migrations.CreateModel(
            name='VPNGateway',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('created_at', models.DateTimeField(auto_now_add=True, db_index=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
                ('resource_id', models.CharField(db_index=True, editable=False, max_length=64, unique=True)),
                ('name', models.CharField(db_index=True, max_length=255)),
                ('description', models.TextField(blank=True, null=True)),
                ('tags', models.JSONField(default=dict, help_text='Key-value tags for resource')),
                ('metadata', models.JSONField(default=dict, help_text='Additional metadata')),
                ('vpn_gw_id', models.CharField(db_index=True, max_length=64, unique=True)),
                ('gateway_type', models.CharField(choices=[('ipsec.1', 'IPsec.1')], default='ipsec.1', max_length=50)),
                ('status', models.CharField(choices=[('pending', 'Pending'), ('creating', 'Creating'), ('running', 'Running'), ('stopping', 'Stopping'), ('stopped', 'Stopped'), ('terminating', 'Terminating'), ('terminated', 'Terminated'), ('error', 'Error'), ('failed', 'Failed')], default='pending', max_length=20)),
                ('asn', models.IntegerField(default=64512)),
                ('owner', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='%(class)s_owned', to=settings.AUTH_USER_MODEL)),
                ('vpc', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='vpn_gateways', to='services.vpc')),
            ],
            options={
                'ordering': ['-created_at'],
            },
        ),
        migrations.CreateModel(
            name='VPNConnection',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('created_at', models.DateTimeField(auto_now_add=True, db_index=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
                ('connection_id', models.CharField(max_length=64, unique=True)),
                ('status', models.CharField(choices=[('pending', 'Pending'), ('available', 'Available'), ('deleting', 'Deleting'), ('deleted', 'Deleted')], default='pending', max_length=20)),
                ('static_routes_only', models.BooleanField(default=False)),
                ('tunnel_options', models.JSONField(default=dict)),
                ('tags', models.JSONField(default=dict)),
                ('customer_gateway', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='connections', to='services.customergateway')),
                ('vpn_gateway', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='connections', to='services.vpngateway')),
            ],
            options={
                'ordering': ['-created_at'],
            },
        ),
        migrations.CreateModel(
            name='AuditLog',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('created_at', models.DateTimeField(auto_now_add=True, db_index=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
                ('audit_id', models.CharField(max_length=64, unique=True)),
                ('action', models.CharField(choices=[('create', 'Create'), ('update', 'Update'), ('delete', 'Delete'), ('start', 'Start'), ('stop', 'Stop'), ('restart', 'Restart'), ('scale', 'Scale'), ('error', 'Error')], max_length=50)),
                ('resource_type', models.CharField(db_index=True, max_length=100)),
                ('resource_id', models.CharField(db_index=True, max_length=64)),
                ('resource_name', models.CharField(blank=True, max_length=255)),
                ('status', models.CharField(choices=[('success', 'Success'), ('failure', 'Failure')], default='success', max_length=20)),
                ('details', models.JSONField(default=dict)),
                ('error_message', models.TextField(blank=True)),
                ('source_ip', models.GenericIPAddressField(blank=True, null=True)),
                ('user_agent', models.TextField(blank=True)),
                ('user', models.ForeignKey(null=True, on_delete=django.db.models.deletion.SET_NULL, to=settings.AUTH_USER_MODEL)),
            ],
            options={
                'ordering': ['-created_at'],
                'indexes': [models.Index(fields=['user', 'action'], name='services_au_user_id_9f9f7c_idx'), models.Index(fields=['resource_type', 'resource_id'], name='services_au_resourc_5c106c_idx')],
            },
        ),
        migrations.CreateModel(
            name='DNSRecord',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('created_at', models.DateTimeField(auto_now_add=True, db_index=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
                ('resource_id', models.CharField(db_index=True, editable=False, max_length=64, unique=True)),
                ('description', models.TextField(blank=True, null=True)),
                ('tags', models.JSONField(default=dict, help_text='Key-value tags for resource')),
                ('metadata', models.JSONField(default=dict, help_text='Additional metadata')),
                ('record_id', models.CharField(db_index=True, max_length=64, unique=True)),
                ('zone_id', models.CharField(blank=True, max_length=64)),
                ('name', models.CharField(db_index=True, max_length=255)),
                ('record_type', models.CharField(choices=[('A', 'A'), ('AAAA', 'AAAA'), ('CNAME', 'CNAME'), ('MX', 'MX'), ('NS', 'NS'), ('PTR', 'PTR'), ('SOA', 'SOA'), ('SRV', 'SRV'), ('TXT', 'TXT')], max_length=50)),
                ('ttl', models.IntegerField(default=300)),
                ('values', models.JSONField(default=list)),
                ('routing_policy', models.CharField(choices=[('simple', 'Simple'), ('weighted', 'Weighted'), ('latency', 'Latency-based'), ('failover', 'Failover'), ('geolocation', 'Geolocation'), ('multivalue', 'Multivalue Answer')], default='simple', max_length=50)),
                ('owner', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='%(class)s_owned', to=settings.AUTH_USER_MODEL)),
            ],
            options={
                'ordering': ['-created_at'],
                'unique_together': {('zone_id', 'name', 'record_type')},
            },
        ),
        migrations.CreateModel(
            name='FileShareMount',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('created_at', models.DateTimeField(auto_now_add=True, db_index=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
                ('mount_id', models.CharField(max_length=64, unique=True)),
                ('instance_id', models.CharField(max_length=64)),
                ('mount_path', models.CharField(max_length=255)),
                ('mount_options', models.CharField(blank=True, max_length=500)),
                ('is_active', models.BooleanField(default=True)),
                ('file_share', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='mounts', to='services.fileshare')),
            ],
            options={
                'unique_together': {('file_share', 'instance_id', 'mount_path')},
            },
        ),
        migrations.AddIndex(
            model_name='image',
            index=models.Index(fields=['os_type', 'is_public'], name='services_im_os_type_ab91d6_idx'),
        ),
        migrations.AddIndex(
            model_name='instance',
            index=models.Index(fields=['owner', 'status'], name='services_in_owner_i_8cf944_idx'),
        ),
        migrations.AddIndex(
            model_name='instance',
            index=models.Index(fields=['status', 'created_at'], name='services_in_status_4d9af6_idx'),
        ),
        migrations.AddIndex(
            model_name='instancemetric',
            index=models.Index(fields=['instance', 'created_at'], name='services_in_instanc_80d347_idx'),
        ),
        migrations.AlterUniqueTogether(
            name='kubernetesnode',
            unique_together={('cluster', 'node_name')},
        ),
        migrations.AddIndex(
            model_name='loadbalancer',
            index=models.Index(fields=['owner', 'status'], name='services_lo_owner_i_c85d45_idx'),
        ),
        migrations.AlterUniqueTogether(
            name='resourcequota',
            unique_together={('user', 'resource_type')},
        ),
        migrations.AlterUniqueTogether(
            name='route',
            unique_together={('route_table', 'destination_cidr')},
        ),
        migrations.AddIndex(
            model_name='storagebucket',
            index=models.Index(fields=['owner', 'region'], name='services_st_owner_i_a6dcb5_idx'),
        ),
        migrations.AlterUniqueTogether(
            name='s3object',
            unique_together={('bucket', 'object_key', 'version_id')},
        ),
        migrations.AddIndex(
            model_name='storagevolume',
            index=models.Index(fields=['owner', 'status'], name='services_st_owner_i_674956_idx'),
        ),
        migrations.AddIndex(
            model_name='storagevolume',
            index=models.Index(fields=['availability_zone', 'is_attached'], name='services_st_availab_936e2a_idx'),
        ),
        migrations.AddIndex(
            model_name='vpc',
            index=models.Index(fields=['owner', 'region'], name='services_vp_owner_i_e9debb_idx'),
        ),
        migrations.AlterUniqueTogether(
            name='subnet',
            unique_together={('vpc', 'cidr_block')},
        ),
        migrations.AddIndex(
            model_name='securitygroup',
            index=models.Index(fields=['vpc', 'owner'], name='services_se_vpc_id_cab3db_idx'),
        ),
        migrations.AlterUniqueTogether(
            name='vpnconnection',
            unique_together={('vpn_gateway', 'customer_gateway')},
        ),
    ]
