{{ define "slack.title" }}
[{{ .Status | toUpper }}{{ if eq .Status "firing" }}:{{ .Alerts.Firing | len }}{{ end }}] {{ .GroupLabels.alertname }}
{{ end }}

{{ define "slack.text" }}
{{ range .Alerts }}
*Alert:* {{ .Annotations.summary }}
*Description:* {{ .Annotations.description }}
*Severity:* {{ .Labels.severity }}
*Instance:* {{ .Labels.instance }}
*Started:* {{ .StartsAt.Format "2006-01-02 15:04:05 UTC" }}
{{ if .EndsAt }}*Ended:* {{ .EndsAt.Format "2006-01-02 15:04:05 UTC" }}{{ end }}
*Labels:* {{ range $key, $value := .Labels }}{{ $key }}={{ $value }} {{ end }}
*Annotations:* {{ range $key, $value := .Annotations }}{{ $key }}={{ $value }} {{ end }}

{{ end }}
{{ if .CommonLabels.team }}*Team:* {{ .CommonLabels.team }}{{ end }}
{{ if .CommonLabels.service }}*Service:* {{ .CommonLabels.service }}{{ end }}

*Incident Summary:*
This alert was generated by the AtonixCorp monitoring system. Please investigate immediately if this is a production issue.

{{ if .CommonLabels.runbook_url }}*Runbook:* {{ .CommonLabels.runbook_url }}{{ end }}
{{ if .CommonLabels.dashboard_url }}*Dashboard:* {{ .CommonLabels.dashboard_url }}{{ end }}
{{ end }}

{{ define "email.subject" }}
[{{ .Status | toUpper }}{{ if eq .Status "firing" }}:{{ .Alerts.Firing | len }}{{ end }}] {{ .GroupLabels.alertname }}
{{ end }}

{{ define "email.text" }}
{{ range .Alerts }}
Alert: {{ .Annotations.summary }}
Description: {{ .Annotations.description }}
Severity: {{ .Labels.severity }}
Instance: {{ .Labels.instance }}
Started: {{ .StartsAt.Format "2006-01-02 15:04:05 UTC" }}
{{ if .EndsAt }}Ended: {{ .EndsAt.Format "2006-01-02 15:04:05 UTC" }}{{ end }}

Labels:
{{ range $key, $value := .Labels }}{{ $key }}={{ $value }}
{{ end }}

Annotations:
{{ range $key, $value := .Annotations }}{{ $key }}={{ $value }}
{{ end }}

{{ end }}

Incident Summary:
This alert was generated by the AtonixCorp monitoring system. Please investigate immediately if this is a production issue.

{{ if .CommonLabels.runbook_url }}Runbook: {{ .CommonLabels.runbook_url }}{{ end }}
{{ if .CommonLabels.dashboard_url }}Dashboard: {{ .CommonLabels.dashboard_url }}{{ end }}

--
AtonixCorp Platform Monitoring
{{ end }}