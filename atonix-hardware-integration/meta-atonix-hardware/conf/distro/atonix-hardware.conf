# AtonixCorp Hardware Integration Distribution Configuration

require conf/distro/poky.conf

DISTRO = "atonix-hardware"
DISTRO_NAME = "AtonixCorp Hardware Integration"
DISTRO_VERSION = "1.0"

# Base distribution features
DISTRO_FEATURES:append = " \
    systemd \
    security \
    tpm2 \
    sgx \
    sev \
    optee \
    trustzone \
    atonix-hardware \
"

# Remove unwanted features
DISTRO_FEATURES:remove = "sysvinit"

# Package management
PACKAGE_CLASSES = "package_rpm"

# Update package feeds
PACKAGE_FEED_URIS = "http://feeds.atonixcorp.com/"

# Security hardening
GCCVERSION = "11.%"
PREFERRED_PROVIDER_virtual/kernel = "linux-yocto"

# Hardware-specific kernel features
KERNEL_FEATURES:append = " \
    features/security/security.scc \
    features/tpm/tpm.scc \
    features/sgx/sgx.scc \
    features/sev/sev.scc \
"

# Image features for hardware integration
IMAGE_FEATURES:append = " \
    ssh-server-openssh \
    debug-tweaks \
    hardware-acceleration \
    security-tools \
"

# Default image classes
IMAGE_CLASSES += "atonix-hardware-image"

# SDK configuration
SDK_NAME = "${DISTRO}-${TCLIBC}-${SDK_ARCH}-${TARGET_ARCH}"
SDK_TITLE = "AtonixCorp Hardware Integration SDK"
SDK_VERSION = "${DISTRO_VERSION}"

# License compliance
INCOMPATIBLE_LICENSE = "GPL-3.0*"
